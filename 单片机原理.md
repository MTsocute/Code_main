# 单片机原理

---

![image-20250119120514123](https://cdn.jsdelivr.net/gh/MTsocute/New_Image@main/img/image-20250119120514123.png)

## 1. 串口

![image-20250119185120706](https://cdn.jsdelivr.net/gh/MTsocute/New_Image@main/img/image-20250119185120706.png)

![image-20250119185140845](https://cdn.jsdelivr.net/gh/MTsocute/New_Image@main/img/image-20250119185140845.png)

## 2. 存储器

<img src="https://cdn.jsdelivr.net/gh/MTsocute/New_Image@main/img/image-20250119195249989.png" alt="image-20250119195249989" style="zoom:60%;" />

### 1. 程序存储器空间

![image-20250119203850827](https://cdn.jsdelivr.net/gh/MTsocute/New_Image@main/img/image-20250119203850827.png)

> 片外扩展是因为我们的16位地址线的寻址能力是 $2^{16} = 64 KB$

![image-20250119204400547](https://cdn.jsdelivr.net/gh/MTsocute/New_Image@main/img/image-20250119204400547.png)

> 存储空间大小的计算，[可以参考这个](https://blog.csdn.net/qq_44528593/article/details/125007338)

![image-20250119210101817](https://cdn.jsdelivr.net/gh/MTsocute/New_Image@main/img/image-20250119210101817.png)

![image-20250119210124958](https://cdn.jsdelivr.net/gh/MTsocute/New_Image@main/img/image-20250119210124958.png)

> 这里需要关注一下中断是如何是实现的，实在程序存储器中实现的，

### 2. 数据存储空间

> 就是我们创建的那些变量的存储位置

![image-20250119204046716](https://cdn.jsdelivr.net/gh/MTsocute/New_Image@main/img/image-20250119204046716.png)

### 3. SFR

### 4. 位地址空间

<br>

## Ex. 机组

---

### 1. 寻址大小的计算

> 给定你一个模块的寻址地址大小是 $24 \text{ }bit$，所以你就可以知道我们的寻址能力就是 $\frac{2^{24}}{2^{20}} = 16 \text{} MB$

假设你的单片机是 **16 位的**，它只能支持 **16 位地址总线**。这意味着它最多能寻址 2^16 = 65,536 个位置，也就是 **64KB 的存储空间**。

如果你连接的是一个 32MB 的闪存芯片（如 W25Q256），它的寻址范围从 0x000000 到 0x1FFFFFFF。由于你的单片机只有 16 位的寻址能力，**它将无法直接访问超过 64KB 的存储空间**，因此它无法访问到 W25Q256 的大部分存储空间。